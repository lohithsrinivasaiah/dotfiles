# Modern, Productive tmux.conf
# ----------------------------
# Sensible defaults, better navigation, and visual improvements

# Disable escape key delay
set -sg escape-time 0

# Set terminal to 256 colors and enable truecolor if supported
set -g default-terminal "screen-256color"
set-option -sa terminal-overrides ',xterm-256color:Tc'

# Start window and pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Disable window renaming
set -g allow-rename off

# Limit history size
set -g history-limit 10000

# Pane splitting bindings (| and -)
unbind %
bind | split-window -h
bind - split-window -v

# Enter copy mode with Escape key
unbind [
bind Escape copy-mode

# Window navigation with Alt/meta keys
bind -n M-h previous-window
bind -n M-l next-window

# Pane navigation with Alt/meta keys
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-h select-pane -L
bind -n M-l select-pane -R

# Reload configuration
bind r source-file ~/.tmux.conf \; display-message "Reloaded ~/.tmux.conf"

# Display panes for 1.5 seconds
set -g display-panes-time 1500

# Mouse support (toggle with Ctrl-b m)
set -g mouse on
bind-key m \
    set -g mouse \;\
    display-message "Mouse mode: #{?mouse,on,off}"

# Improved status line
set-option -g status-interval 2
set-option -g status-justify centre
set-option -g status-left-length 30
set-option -g status-right-length 150
set-option -g status-left '#[fg=green]#S #[fg=cyan]| #[fg=yellow]%Y-%m-%d #[fg=magenta]%H:%M'
set-option -g status-right '#[fg=cyan]#(cd "#{pane_current_path}" && git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "no-git") #[fg=white]| #[fg=blue]%a %b %d #[fg=magenta]%I:%M %p'

# Visual tweaks
set -g status-bg colour234
set -g status-fg colour137
setw -g window-status-current-format '#[fg=black,bg=yellow] #I:#W #[default]'
setw -g window-status-format '#[fg=cyan]#I#[fg=white]:#W'
setw -g window-status-activity-style bold

# Allow faster pane resizing
bind -r < resize-pane -L 5
bind -r > resize-pane -R 5
bind -r + resize-pane -U 5
bind -r - resize-pane -D 5

# Vi mode in copy mode
setw -g mode-keys vi

# Clipboard integration (requires xclip or pbcopy on macOS)
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -in -selection clipboard"

# Optional: Start with last session (requires tmux-resurrect)
# set-option -g @resurrect-save 'S'
# set-option -g @resurrect-restore 'R'

# More customizations can be added below
